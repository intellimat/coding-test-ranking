<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>Idealista Task</title>
  </head>
  <body>
    <h1 class='mx-4 mt-4'>Idealista Task</h1>
    <h4 class='mx-4'>Endpoints</h4>
    <ul class='mx-4'>
      <li> /ads </li>
      <li> /qualityAds </li>
      <li> /calculateScore </li>
    </ul>
    <h4 class='mx-4'>Endpoints Description</h4>
    <ul class='mx-4'>
      <li> <b>/ads</b> returns all the ads as a JSON string (ads are stored in the data property), regardless of the score </li>
      <li> <b>/qualityAds</b> returns all the ads with a score >= 40 as a JSON string (ads are stored in the data property) </li>
      <li> <b>/calculateScore</b> asks the server to calculate all the ads' score and returns a JSON string as a response </li>
      <li> Only GET method is supported on the endpoints </li>
    </ul>
    <h4 class='mx-4'>Notes</h4>
    <ul class='mx-4'>
      <li> The server has been deployed on Heroku so you can easily try the endpoints 
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-emoji-smile" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
        <path d="M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"/>
      </svg> 
    </li>
      <li> Heroku link: <a href="https://idealista-task.herokuapp.com/">https://idealista-task.herokuapp.com/</a></li>
      <li> If you want to run the server locally you need to install Node Js (version > 14) <br>
            then go to the folder which contains package.json and run these commands from the CLI:<br> 1) npm install <br>2) npm start </li>
    </ul>

    <h4 class='mx-4'>Requests&#39; Examples</h4>
    <p class='mx-4'>On heroku:</p>
    <ul class='mx-4'>
    <li><a href="https://idealista-task.herokuapp.com/ads">https://idealista-task.herokuapp.com/ads</a></li>
    <li><a href="https://idealista-task.herokuapp.com/qualityAds">https://idealista-task.herokuapp.com/qualityAds</a></li>
    <li><a href="https://idealista-task.herokuapp.com/calculateScore">https://idealista-task.herokuapp.com/calculateScore</a></li>
    </ul>
    <p class='mx-4'>On local machine:</p>
    <ul class='mx-4'>
    <li><a href="http://localhost:12000/ads">http://localhost:12000/ads</a></li>
    <li><a href="http://localhost:12000/qualityAds">http://localhost:12000/qualityAds</a></li>
    <li><a href="http://localhost:12000/calculateScore">http://localhost:12000/calculateScore</a></li>
    </ul>
    <h4 class='mx-4'>About the implementation</h4>
    <ul class='mx-4'>
    <li>Stack used: Node js and Express js</li>
    <li>Persistence: The ads have been stored into a JSON file which is read to retrieve the ads and written to store the updated ads (scores updated)</li>
    </ul>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
  </body>
</html>